(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4381,5899],{96582:function(e,r,t){Promise.resolve().then(t.bind(t,79923))},51075:function(e,r,t){"use strict";t.d(r,{n:function(){return l},x:function(){return i}});var n=t(49147),u=t(11979);let a=(0,u.createContext)(null);function c(e,r){switch(r.type){case"SET_META":return{...e,episode:r.payload};case"PLAY":return{...e,playing:!0};case"PAUSE":return{...e,playing:!1};case"TOGGLE_MUTE":return{...e,muted:!e.muted};case"SET_CURRENT_TIME":return{...e,currentTime:r.payload};case"SET_DURATION":return{...e,duration:r.payload}}}function l(e){let{children:r}=e,[t,l]=(0,u.useReducer)(c,{playing:!1,muted:!1,duration:0,currentTime:0,episode:null}),i=(0,u.useRef)(null),o=(0,u.useMemo)(()=>({play(e){var r;if(e&&(l({type:"SET_META",payload:e}),i.current&&i.current.currentSrc!==e.audio.src)){let r=i.current.playbackRate;i.current.src=e.audio.src,i.current.load(),i.current.pause(),i.current.playbackRate=r,i.current.currentTime=0}null===(r=i.current)||void 0===r||r.play()},pause(){var e;null===(e=i.current)||void 0===e||e.pause()},toggle(e){this.isPlaying(e)?o.pause():o.play(e)},seekBy(e){i.current&&(i.current.currentTime+=e)},seek(e){i.current&&(i.current.currentTime=e)},playbackRate(e){i.current&&(i.current.playbackRate=e)},toggleMute(){l({type:"TOGGLE_MUTE"})},isPlaying(e){var r;return e?t.playing&&(null===(r=i.current)||void 0===r?void 0:r.currentSrc)===e.audio.src:t.playing}}),[t.playing]),s=(0,u.useMemo)(()=>({...t,...o}),[t,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Provider,{value:s,children:r}),(0,n.jsx)("audio",{ref:i,onPlay:()=>l({type:"PLAY"}),onPause:()=>l({type:"PAUSE"}),onTimeUpdate:e=>{l({type:"SET_CURRENT_TIME",payload:Math.floor(e.currentTarget.currentTime)})},onDurationChange:e=>{l({type:"SET_DURATION",payload:Math.floor(e.currentTarget.duration)})},muted:t.muted})]})}function i(e){let r=(0,u.useContext)(a);return(0,u.useMemo)(()=>({...r,play(){r.play(e)},toggle(){r.toggle(e)},get playing(){return r.isPlaying(e)}}),[r,e])}},79923:function(e,r,t){"use strict";t.d(r,{EpisodePlayButton:function(){return a}});var n=t(49147),u=t(51075);function a(e){let{episode:r,playing:t,paused:a,...c}=e,l=(0,u.x)(r);return(0,n.jsx)("button",{type:"button",onClick:()=>l.toggle(),"aria-label":"".concat(l.playing?"Pause":"Play"," episode ").concat(r.title),...c,children:l.playing?t:a})}}},function(e){e.O(0,[5506,6228,1744],function(){return e(e.s=96582)}),_N_E=e.O()}]);